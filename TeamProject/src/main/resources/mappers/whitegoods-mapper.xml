<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.kh.team.whitegoods">
	<select id="getWhiteGoodsList" resultType="WhiteGoodsVo">
		select * from whitegoods
		where cate_no like #{cate_no} || '%'
		order by p_no desc
	</select>
	
	<insert	id="insertWhite">
		insert into whitegoods(p_no, p_name, p_seller, p_price, cate_no, p_content, p_thumbimg)
		values (seq_whitegoods_no.nextval, #{p_name}, #{p_seller}, #{p_price}, #{cate_no}, #{p_content}, #{p_thumbimg})
	</insert>
	
	<update id="updateWhite">
		update whitegoods set
			p_name = #{p_name},
			p_price = #{p_price},
			cate_no = #{cate_no},
			p_content = #{p_content},
			p_thumbimg = #{p_thumbimg}
		where p_no = #{p_no}
		and p_seller = #{p_seller}
	</update>
	
	<delete id="deleteWhite">
		delete from whitegoods
		where p_no = #{p_no}
		and p_seller = #{p_seller}
	</delete>
	
	<select id="getCategoryList" resultType="CategoryVo">
		select * from category
		where cate_ref = #{cate_ref}
	</select>
	
	<select id="detailWhiteGoods" resultType="WhitegoodsVo">
		select * from whitegoods
		where p_no = #{p_no}
	</select>
</mapper>